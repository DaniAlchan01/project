{% extends 'base.html' %}
{% load static %}
{% block title %}–û –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/about.css' %}">
<section class="about-container">

    <!-- –°–ª–∞–π–¥–µ—Ä -->
    <h2>–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
    <div class="slider-container">
        <div class="demo-carousel">
            <div class="carousel-inner">
                <div class="demo-item">
                    <img src="{% static 'img/demos.jpeg' %}" alt="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 1" class="demo-img">
                </div>
                <div class="demo-item">
                    <img src="{% static 'img/demostr.jpeg' %}" alt="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 2" class="demo-img">
                </div>
                <div class="demo-item">
                    <img src="{% static 'img/demost.jpeg' %}" alt="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è 3" class="demo-img">
                </div>
            </div>
        </div>
    </div>

    <hr>

<section class="about-sections py-12 bg-gray-100">
    <div class="container mx-auto px-4 space-y-24">

        <!-- –°–µ–∫—Ü–∏—è 1 -->
        <div class="flex flex-col md:flex-row items-center" data-aos="fade-up">
            <div class="md:w-1/2 mb-6 md:mb-0">
                <img src="/static/images/analytics.svg" alt="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞" class="w-full max-w-md mx-auto">
            </div>
            <div class="md:w-1/2 text-center md:text-left">
                <h3 class="text-2xl font-bold mb-4 text-gray-800">–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è</h3>
                <p class="text-lg text-gray-700">
                    4Count ‚Äî —ç—Ç–æ –µ–¥–∏–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ –≤–∞—à–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤. –ü—Ä–æ—Å—Ç–∞—è –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞–º–µ–Ω—è–µ—Ç –¥–µ—Å—è—Ç–∫–∏ —Ç–∞–±–ª–∏—Ü, –∑–∞–º–µ—Ç–æ–∫ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
                </p>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è 2 -->
        <div class="flex flex-col-reverse md:flex-row items-center" data-aos="fade-up" data-aos-delay="200">
            <div class="md:w-1/2 text-center md:text-left">
                <h3 class="text-2xl font-bold mb-4 text-gray-800">–£—á—ë—Ç –±–µ–∑ –ª–∏—à–Ω–µ–π —Å—É–µ—Ç—ã</h3>
                <p class="text-lg text-gray-700">
                    –†–∞—Å—Ö–æ–¥—ã, –¥–æ—Ö–æ–¥—ã, –¥–æ–ª–≥–∏ –∏ –∫—Ä–µ–¥–∏—Ç—ã ‚Äî –≤—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –í—ã—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å–ø–∏—Å–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ, –∫—É–¥–∞ —É—Ö–æ–¥—è—Ç –¥–µ–Ω—å–≥–∏.
                </p>
            </div>
            <div class="md:w-1/2 mb-6 md:mb-0">
                <img src="/static/images/management.svg" alt="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" class="w-full max-w-md mx-auto">
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è 3 -->
        <div class="flex flex-col md:flex-row items-center" data-aos="fade-up" data-aos-delay="400">
            <div class="md:w-1/2 mb-6 md:mb-0">
                <img src="/static/images/goal.svg" alt="–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏" class="w-full max-w-md mx-auto">
            </div>
            <div class="md:w-1/2 text-center md:text-left">
                <h3 class="text-2xl font-bold mb-4 text-gray-800">–î–æ—Å—Ç–∏–≥–∞–π—Ç–µ —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π</h3>
                <p class="text-lg text-gray-700">
                    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ü–µ–ª–∏ –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É, –ø–æ–º–æ–≥–∞—è –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.
                </p>
            </div>
        </div>

    </div>
</section>

    <hr>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <div class="about-block">
        <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
        <p>–° –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:</p>

        <div class="image-triangle">
            <div class="row top-row">
                <div class="triangle-image">
                    <img src="{% static 'img/hamburger.png' %}" alt="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 1">
                    <p>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 1: –õ–µ–≥–∫–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏</p>
                </div>
            </div>
            <div class="row bottom-row">
                <div class="triangle-image">
                    <img src="{% static 'img/laundry.png' %}" alt="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 2">
                    <p>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 2: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–∞—à–∏–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏</p>
                </div>
                <div class="triangle-image">
                    <img src="{% static 'img/medical.png' %}" alt="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 3">
                    <p>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <!-- –î–µ–º–æ-—Ä–µ–∂–∏–º -->
    <div class="about-block">
        <h2>–î–µ–º–æ-—Ä–µ–∂–∏–º</h2>
        <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ –¥–µ–π—Å—Ç–≤–∏–∏.</p>
        <div class="demo-video">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/38fqEA482Wo" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>

    <hr>

    <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
    <div class="about-block">
        <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
        <p>–ú—ã –ø—Ä–∏–ª–∞–≥–∞–µ–º –º–∞–∫—Å–∏–º—É–º —É—Å–∏–ª–∏–π –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞—à–∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–∞–º—ã–º –≤—ã—Å–æ–∫–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ —Å–≤–æ–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.</p>
    </div>

    <hr>

    <!-- FAQ -->
    <div class="about-block">
        <h2>FAQ</h2>
        <ul>
            <li><strong>–ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É?</strong> –ü—Ä–æ—Å—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã.</li>
            <li><strong>–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã?</strong> –ú—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã, –≤–∫–ª—é—á–∞—è –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏ PayPal.</li>
            <li><strong>–ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö?</strong> –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—É—é –∑–∞—â–∏—Ç—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.</li>
        </ul>
    </div>

    <hr>

    <!-- –°–æ–≤–µ—Ç—ã –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ -->
    <div class="about-block">
        <h2>–°–æ–≤–µ—Ç—ã –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏</h2>
        <p>–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –∫–∞–Ω–∞–ª –≤ <a href="https://t.me/your_telegram_channel" target="_blank">Telegram</a> –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–µ–π –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏.</p>
    </div>

    <hr>

    <!-- –û—Ç–∑—ã–≤—ã -->
    <div class="about-block">
        <h2>–û—Ç–∑—ã–≤—ã</h2>
        <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –Ω–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:</p>

        <!-- –§–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞ -->
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}  <!-- –ü–æ–ª—è —Ñ–æ—Ä–º—ã –¥–ª—è –æ—Ç–∑—ã–≤–∞ -->
            <button type="submit">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
        </form>

        {% for review in reviews %}
        <div class="review">
            <div class="review-header">
                <img src="{{ review.user.avatar.url }}" alt="–∞–≤–∞—Ç–∞—Ä" width="30" height="30" style="border-radius: 4px;">
                <strong>{{ review.user.username }}</strong>
                <small>{{ review.user.status }}</small>
            </div>

            <div class="review-stars">
                {% for i in "12345"|make_list %}
                    {% if forloop.counter <= review.rating %}
                        <img src="{% static 'img/star.png' %}" alt="–∑–≤–µ–∑–¥–∞" width="12" height="12">
                    {% else %}
                        <img src="{% static 'img/star1.png' %}" alt="‚òÜ" width="12" height="12">
                    {% endif %}
                {% endfor %}
            </div>

            <p>{{ review.text }}</p>

            <div class="review-actions">
                {% if request.user == review.user or request.user.is_superuser %}
                    <!-- –£–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º -->
                    <button onclick="confirmDelete({{ review.id }})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                {% endif %}
                <!-- –õ–∞–π–∫ -->
                <button id="like-button-{{ review.id }}" onclick="likeReview({{ review.id }})">
                    üëç <span id="likes-count-{{ review.id }}">{{ review.total_likes }}</span>
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞ -->
<div id="deleteModal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤?</h2>
        <form id="deleteForm" method="POST" action="">
            {% csrf_token %}
            <button type="submit">–£–¥–∞–ª–∏—Ç—å</button>
            <button type="button" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        </form>
    </div>
</div>

<script src="{% static 'js/about.js' %}"></script>
<script src="{% static 'js/home.js' %}"></script>

<script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞
    function confirmDelete(reviewId) {
        const modal = document.getElementById('deleteModal');
        const form = document.getElementById('deleteForm');
        if (!modal || !form) return;

        // –û–±–Ω–æ–≤–ª—è–µ–º action —Ñ–æ—Ä–º—ã —Å id –æ—Ç–∑—ã–≤–∞
        form.action = `/reviews/delete/${reviewId}/`;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        modal.style.display = 'block';
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeModal() {
        const modal = document.getElementById('deleteModal');
        modal.style.display = 'none';
    }
    document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.querySelector('.demo-carousel .carousel-inner');
    let isDown = false;
    let startX;
    let scrollLeft;

    carousel.addEventListener('mousedown', (e) => {
        isDown = true;
        carousel.style.cursor = 'grabbing';
        startX = e.pageX - carousel.offsetLeft;
        scrollLeft = carousel.scrollLeft;
    });

    carousel.addEventListener('mouseleave', () => {
        isDown = false;
        carousel.style.cursor = 'grab';
    });

    carousel.addEventListener('mouseup', () => {
        isDown = false;
        carousel.style.cursor = 'grab';
    });

    carousel.addEventListener('mousemove', (e) => {
        if(!isDown) return;
        e.preventDefault();
        const x = e.pageX - carousel.offsetLeft;
        const walk = (x - startX) * 2; // –£–º–Ω–æ–∂–∞–µ–º –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
        carousel.scrollLeft = scrollLeft - walk;
    });
});
</script>

{% endblock %}
